
<!--<div class="card">

    <p-table #dt1 [value]="reqList" dataKey="RequistionId" [expandedRowKeys]="expandedRows" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" 
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10,25,50]" [loading]="loading" styleClass="p-datatable-customers p-datatable-gridlines" [globalFilterFields]="['RequistionId','ReqTitle','EACManager','DeliveryManager']">
        <ng-template pTemplate="caption">
            <div class="p-d-flex">
                <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
                <span class="p-input-icon-left p-ml-auto">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Search keyword" />
                </span>
            </div>
        </ng-template>,
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem"></th>
                <th pSortableColumn="RequistionId">ID <p-sortIcon field="RequistionId"></p-sortIcon>
                </th>
                <th>Image</th>
                <th pSortableColumn="ReqTitle">Title <p-sortIcon field="ReqTitle"></p-sortIcon>
                </th>
                <th pSortableColumn="EACManager">Account Manager <p-sortIcon field="EACManager"></p-sortIcon>
                </th>
                <th pSortableColumn="DeliveryManager">Delivery Manager <p-sortIcon field="DeliveryManager"></p-sortIcon>
                </th>
                <th pSortableColumn="Clientname">Publish Status <p-sortIcon field="Clientname"></p-sortIcon>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-req let-expanded="expanded">
            <tr>
                <td>
                    <button type="button" pButton pRipple [pRowToggler]="req"
                        class="p-button-text p-button-rounded p-button-plain"
                        [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                </td>
                <!--<td class="dropdown details-control">
                    <a style="text-decoration: underline;color: rgb(72, 72, 236);cursor:pointer;" (click)="actionMethod(i)">{{req.Requistion'Id}}</a> 
                    <ul class="dropdown-menu" id="showmenu{{i}}">
                        <li *ngIf="functionList.includes('201')"> <a [routerLink]="['/requisitionadd',req.RequistionId]" > <i class="fas fa-edit"></i>&nbsp;&nbsp;Edit Requisition</a></li>
                        <li style="cursor:pointer;" *ngIf="req.Reqstatus == 'OP'" (click)="openDialogPublish(req.RequistionId,req.ReqTitle,req.PublishStatus)"> <a> <i class="fas fa-newspaper"></i>&nbsp;&nbsp;Publish Requisition</a></li>
                        <li *ngIf="req.Reqstatus == 'OP' && functionList.includes('204')"> <a [routerLink]="['/manage',req.RequistionId,'SO']"><i class="fa fa-tasks" aria-hidden="true"></i>&nbsp;&nbsp;Manage Candidate</a></li>
                        <li *ngIf="req.Reqstatus == 'OP' && functionList.includes('203')"> <a [routerLink]="['/cvupload',req.RequistionId,'0']"><i class="fa fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;Upload CV</a></li>
                        <li *ngIf="req.Reqstatus == 'OP'"> <a [routerLink]="['/clone',req.RequistionId]"><i class="fas fa-clone"></i>&nbsp;&nbsp;Clone Requisition</a></li>
                        <li style="cursor:pointer;" (click)="openDialogViewJd(req.RequistionId)"><a><i class="fas fa-file"></i>&nbsp;&nbsp;View JD</a></li>
                      </ul>
                      <i class="fas fa-caret-square-down statuscolor" (mouseenter)="showSubRow(req.RequistionId,i)" style="margin-top: -13px;float: left;margin-left: 38px;"></i>
  
                </td>   
                <td>{{req.RequistionId}}</td>
                <td>{{req.DeliveryManager}}</td>
                <td>{{req.ReqTitle}}</td>
                <td>{{req.EACManager}}</td>
                <td>
                    <p-rating [ngModel]="req.DeliveryManager" [readonly]="true" [cancel]="false"></p-rating>
                </td>
                <td>{{req.DeliveryManager}}
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="paginatorleft">
            <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
        </ng-template>
        <ng-template pTemplate="paginatorright">
            <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-req>
        <tr>
            <td colspan="7">
                <div class="p-p-3">
                    <p-table [value]="req.SCCount" dataKey="RequistionId">
                        <ng-template pTemplate="header">
                            <tr>
                                <th pSortableColumn="SourceCategory">SourceCategory <p-sortIcon field="SourceCategory"></p-sortIcon></th>
                                <th pSortableColumn="Sourcing">Sourcing <p-sortIcon field="Sourcing"></p-sortIcon></th>
                                <th pSortableColumn="Assessment">Assessment <p-sortIcon field="Assessment"></p-sortIcon></th>
                                <th pSortableColumn="Joined">Joined <p-sortIcon field="Joined"></p-sortIcon></th>
                                <th pSortableColumn="offered">offered <p-sortIcon field="offered"></p-sortIcon></th>
                                <th style="width: 4rem"></th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-order>
                            <tr>
                                <td>{{order.SourceCategory}}</td>
                                <td>{{order.Sourcing}}</td>
                                <td>{{order.Assessment}}</td>
                                <td>{{order.Joined}}</td>
                                <td>{{order.offered}}</td>
                                <td><p-button type="button" icon="pi pi-search"></p-button></td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td colspan="6">There are no order foro this product yet.</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </td>
        </tr>
    </ng-template>
    </p-table>

</div>
<h3><a target="_blank" href="https://www.gyrocode.com/articles/jquery-datatables-how-to-expand-collapse-all-child-rows/">jQuery DataTables: How to expand/collapse all child rows</a> <small>Regular table</small></h3>

<button id="btn-show-all-children" type="button">Expand All</button>
<button id="btn-hide-all-children" type="button">Collapse All</button>
<hr>
<table id="example" class="display" cellspacing="0" width="100%">
    <thead>
        <tr>
				    <th></th>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Salary</th>
        </tr>
    </thead>
    <tfoot>
        <tr>
				    <th></th>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Salary</th>
        </tr>
    </tfoot>
</table>
-->
<div class="content whiteframe">
  <h3 style="text-align: center;">Requisitions Dashboard - 
    <select (change)="getReqListsOnChange($event.target.value)">
      <option value="OP">Open</option>
      <option value="DR">Draft</option>
     <!-- <option (Click)="getReqLists();" [value]="OP">Under Approval</option>-->
      <option value="HO">On Hold</option>
      <option value="AR">Archived</option>
    </select> <span > <img id="loader" style="vertical-align: bottom;margin-left: 10px;" src="assets/img/loader.gif"/></span></h3>

    <div style="margin: 0;">
      <div id="snackbar">{{message}}</div>
    </div>
    <a class="newitem" [routerLink]="['/requisitionadd/0']"  skipLocationChange=true *ngIf="functionList.includes('200')"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
      <ng-template #content>
          <table>
            <tr><td>Add New Requisition</td></tr>                
          </table>
      </ng-template>
      <mat-icon>add_circle_outline</mat-icon>
     <!-- <i class="fa fa-plus-square fa-2x" aria-hidden="true"></i>-->
    </ejs-tooltip></a>  
      <table #dataTable class="display table table-borderless table-hover"  id="reqList" style="width:100%;">        
        <thead>
            <tr>
              <th>
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Requistion Id</td></tr>                
                      </table>
                  </ng-template>
                  Req Id
                </ejs-tooltip>
              </th>
              <th>
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Requisition Title</td></tr>                
                      </table>
                  </ng-template>
                  Job Title
                </ejs-tooltip>
              </th>
              <th style="width:60px">
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Account Manager</td></tr>                
                      </table>
                  </ng-template>
                  AM
                </ejs-tooltip>
              </th>
              <th style="width:50px">
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Delivery Manager</td></tr>                
                      </table>
                  </ng-template>
                  DM
                </ejs-tooltip>
              </th>
              <th style="width:50px">
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Publish Status</td></tr>                
                      </table>
                  </ng-template>
                  PS
                </ejs-tooltip>
              </th>
              <th >
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Client</td></tr>                
                      </table>
                  </ng-template>
                  Client
                </ejs-tooltip>
              </th>
              <th>
                <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Priority</td></tr>                
                      </table>
                  </ng-template>
                  Priority
                </ejs-tooltip>
                </th>                   
                <th style="text-align: center;background-position-x: 7px;"> 
                  <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                    <ng-template #content>
                        <table>
                          <tr><td>Co-ordinator</td></tr>                
                        </table>
                    </ng-template>
                    <mat-icon>perm_identity</mat-icon>
                  </ejs-tooltip>
                </th>
                <th style="text-align: center;background-position-x: 10px;">
                  <ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                    <ng-template #content>
                        <table>
                          <tr><td>Ageing</td></tr>                
                        </table>
                    </ng-template>
                    <mat-icon>hourglass_empty</mat-icon>
                  </ejs-tooltip></th>
                <th style="text-align: center;border-right:1px solid #000000;background-position-x: 4px;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Positions</td></tr>                
                      </table>
                  </ng-template>
                  <mat-icon>insert_chart_outlined</mat-icon>
                </ejs-tooltip></th>                
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Sourcing</td></tr>                
                      </table>
                  </ng-template>
                  S
                </ejs-tooltip></th>
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Screening</td></tr>                
                      </table>
                  </ng-template>
                  S
                </ejs-tooltip></th>
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Assessment</td></tr>                
                      </table>
                  </ng-template>
                  A
                </ejs-tooltip></th>
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>HR Round</td></tr>                
                      </table>
                  </ng-template>
                  H
                </ejs-tooltip></th>
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Offered</td></tr>                
                      </table>
                  </ng-template>
                 O
                </ejs-tooltip></th>            
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Joined</td></tr>                
                      </table>
                  </ng-template>
                  J
               </ejs-tooltip></th>            
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Client Reject</td></tr>                
                      </table>
                  </ng-template>
                 CR
                </ejs-tooltip></th>            
                <th style="background-image: none;"><ejs-tooltip  id='tooltip_1' style="font-weight: 600;">
                  <ng-template #content>
                      <table>
                        <tr><td>Internal Reject</td></tr>                
                      </table>
                  </ng-template>
                  IR
                </ejs-tooltip></th>            
            </tr>       
        </thead>
        <tfoot *ngIf="reqList && reqList.length > 0">
          <tr>
              <td style="text-align: center;" colspan="9"></td>
              <td style="text-align: center;"></td>
              <td ></td>
              <td ></td>
              <td></td>
              <td ></td>
              <td ></td>
              <td ></td>
              <td ></td>
              <td ></td>
          </tr>
      </tfoot>  
        <tbody>                  
          
            <tr *ngFor="let item of reqList; let i = index">  
              <td class="dropdown details-control1">
                  <a style="text-decoration: underline;color: rgb(72, 72, 236);cursor:pointer;" (click)="actionMethod(i)">{{item.RequistionId}}</a> 
                  <ul class="dropdown-menu" id="showmenu{{i}}">
                      <li *ngIf="functionList.includes('201')"> <a [routerLink]="['/requisitionadd',item.RequistionId]"  skipLocationChange=true> <i class="fas fa-edit"></i>&nbsp;&nbsp;Edit Requisition</a></li>
                      <li style="cursor:pointer;" *ngIf="item.Reqstatus == 'OP'" (click)="openDialogPublish(item.RequistionId,item.ReqTitle,item.PublishStatus)"> <a> <i class="fas fa-newspaper"></i>&nbsp;&nbsp;Publish Requisition</a></li>
                      <li *ngIf="item.Reqstatus == 'OP' && functionList.includes('204')"> <a [routerLink]="['/manage',item.RequistionId,'SO']"  skipLocationChange=true><i class="fa fa-tasks" aria-hidden="true"></i>&nbsp;&nbsp;Manage Candidate</a></li>
                      <li *ngIf="item.Reqstatus == 'OP' && functionList.includes('203')"> <a [routerLink]="['/cvupload',item.RequistionId,'0','0']"  skipLocationChange=true><i class="fa fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;Upload CV</a></li>
                      <li *ngIf="item.Reqstatus == 'OP'"> <a [routerLink]="['/clone',item.RequistionId]"  skipLocationChange=true><i class="fas fa-clone"></i>&nbsp;&nbsp;Clone Requisition</a></li>
                      <li style="cursor:pointer;" (click)="openDialogViewJd(item.RequistionId)"><a><i class="fas fa-file"></i>&nbsp;&nbsp;View JD</a></li>
                    </ul>
                   <a class="statuscolor aligndata"><ejs-tooltip  id='tooltip_1'>
                      <ng-template #content>
                      <table style="border-collapse: collapse;">
                        <thead>
                          <tr>
                            <td style="width: 150px;"></td>
                            <td style="width: 65px;">S</td>
                            <td style="width: 65px;">S</td>
                            <td style="width: 65px;">A</td>
                            <td style="width: 65px;">H</td>
                            <td style="width: 65px;">O</td>
                            <td style="width: 65px;">J</td>
                            <td style="width: 65px;">CR</td>
                            <td style="width: 65px;">IR</td>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let list of drilldownvalue; let i = index">
                            <td>{{list.SourceCategory}}</td>
                            <td>{{list.Sourcing}}</td>
                            <td>{{list.Screening}}</td>
                            <td>{{list.Assessment}}</td>
                            <td>{{list.HRRound}}</td>
                            <td>{{list.Offered}}</td>
                            <td>{{list.Joined}}</td>
                            <td>{{list.CR}}</td>
                            <td>{{list.IR}}</td>
                          </tr>
                          
                        </tbody>
                        <tfoot >
                          <tr>
                            <td style="border-top: 1px solid #cdcdd0;">Total</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{sourcetotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{screeningtotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{assessmenttotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{hrtotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{offeredtotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{joinedtotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{CRtotal}}</td>
                            <td style="border-top: 1px solid #cdcdd0;">{{IRtotal}}</td>
                          </tr>
                        </tfoot>
                      </table>
                      </ng-template><!--<i class="fas fa-caret-square-down" (mouseenter)="showSubRow(item.RequistionId)" style="margin-top: -13px;float: left;margin-left: 38px;"></i>-->
                      <!--<ng-template #content>
                        <div class="subRow-row" *ngFor="let list of drilldownvalue; let i = index">

                          <div class="subRow-cell">{{list.SourceCategory}}</div>
                          <div class="subRow-cell">{{list.Sourcing}}</div>
                          <div class="subRow-cell">{{list.Screening}}</div>
                          <div class="subRow-cell">{{list.Assessment}}</div>
                          <div class="subRow-cell">{{list.HRRound}}</div>
                          <div class="subRow-cell">{{list.Offered}}</div>
                          <div class="subRow-cell">{{list.Joined}}</div>
                          <div class="subRow-cell">{{list.CR}}</div>
                          <div class="subRow-cell">{{list.IR}}</div>
                        </div>
                          <table>
                            <tr><td style="padding-bottom: 10px;">Screening :</td> <td style="padding-bottom: 10px;">{{item.Screening}} ({{item.screeningPerc}}%)</td></tr>
                            <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                          </table>
                      </ng-template>-->
                      <i class="fas fa-caret-square-down statuscolor" (mouseenter)="showSubRow(item.RequistionId,i)" style="margin-top: -13px;float: left;margin-left: 38px;"></i>
                    </ejs-tooltip> </a>
                  

                    <!--<a id="showsubrow-control" (click)="showSubRow(item.RequistionId)"  style="color: rgb(72, 72, 236);cursor:pointer;"><i
                    class="fas fa-caret-square-down" ></i></a>
                    <div id="subRow{{item.RequistionId}}" class="subRow">
                      <ul *ngFor="let list of drilldownvalue; let i = index">ll
                        <li style="float:left;">{{list.SourceCategory}}</li>
                        <li style="float:left;">{{list.Sourcing}}</li>
                        <li style="float:left;">{{list.Screening}}</li>
                        <li style="float:left;">{{list.Assessment}}</li>
                        <li style="float:left;">{{list.HRRound}}</li>
                        <li style="float:left;">{{list.Offered}}</li>
                        <li style="float:left;">{{list.Joined}}</li>
                        <li style="float:left;">{{list.CR}}</li>
                        <li style="float:left;">{{list.IR}}</li>
                      </ul>
                      <div class="subRow-row" *ngFor="let list of drilldownvalue; let i = index">
                        <div class="subRow-cell">{{list.SourceCategory}}</div>
                        <div class="subRow-cell">{{list.Sourcing}}</div>
                        <div class="subRow-cell">{{list.Screening}}</div>
                        <div class="subRow-cell">{{list.Assessment}}</div>
                        <div class="subRow-cell">{{list.HRRound}}</div>
                        <div class="subRow-cell">{{list.Offered}}</div>
                        <div class="subRow-cell">{{list.Joined}}</div>
                        <div class="subRow-cell">{{list.CR}}</div>
                        <div class="subRow-cell">{{list.IR}}</div>
                      </div> 

                    </div>-->
              </td>   
              <td class="dateellipes">
                <ejs-tooltip  id='tooltip_1' >
                  <ng-template #content>
                    
                      <table>
                        <tr><td >{{item.ReqTitle}}</td></tr>                
                      </table>
                  </ng-template>
                  {{item.ReqTitle}}
                </ejs-tooltip>
              </td>          
              <td class="aligndata">{{item.EACManager}}</td>
              <td class="aligndata">{{item.DeliveryManager}}</td>
              <td class="aligndata"> <ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>                   
                      <tr><td> {{item.PublishStatusString}}</td></tr>
                    </table>
                </ng-template>
                {{item.PublishStatus}}
                </ejs-tooltip></td>
              <td class="clientellipes">

                <ejs-tooltip  id='tooltip_1'>
                  <ng-template #content>
                      <table>                   
                        <tr><td> {{item.Clientname}}</td></tr>
                      </table>
                  </ng-template>
                  {{item.Clientname}}
                  </ejs-tooltip>
              </td>
              
            <!-- <td class="clientellipes">

                <ejs-tooltip  id='tooltip_1'>
                  <ng-template #content>
                      <table>                   
                        <tr><td> {{item.PublishStatusString}}</td></tr>
                      </table>
                  </ng-template>
                  {{item.PublishStatus}}
                  </ejs-tooltip>
              </td>-->
              
              <td class="dropdown aligndata" style="padding-left:24px;">
                  <a style="color:rgb(190, 32, 32);cursor:pointer;" (click)="priorityMethod(i)">
                  <!--<mat-icon id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'H'; else low">arrow_upwards</mat-icon>
                    <ng-template #low>
                      <mat-icon id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'L';else nuetral">arrow_downward</mat-icon>
                    </ng-template>
                    <ng-template #nuetral>
                      <mat-icon id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'N'">more_horiz</mat-icon>
                    </ng-template>-->
                    <!--<mat-icon id="changeIcon{{i}}">{{icon}}</mat-icon>--> 
                    <mat-icon style="font-size: 18px;font-weight: 600;" id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'H'">arrow_upwards</mat-icon>
                    <mat-icon style="font-size: 18px;font-weight: 600;" id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'L'">arrow_downward</mat-icon>
                    <mat-icon style="font-size: 18px;font-weight: 600;" id="changeIcon{{i}}" *ngIf="item.Reqpriority == 'N'">more_horiz</mat-icon>
                  </a> 
                <!-- <ul style="margin: -7px 0px 0px 30px;" *ngIf="item.Reqpriority == 'H'; else lowmenu" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('L',item.RequistionId,i)">Change to Low</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('N',item.RequistionId,i)">Change to Neutral</a></li>
                  </ul>
                  <ng-template #lowmenu>
                    <ul style="margin: -7px 0px 0px 30px;" *ngIf="item.Reqpriority == 'L'; else neutralmenu" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('H',item.RequistionId,i)">Change to High</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('N',item.RequistionId,i)">Change to Neutral</a></li>
                  </ul>
                  </ng-template>
                  <ng-template #neutralmenu>
                    <ul style="margin: -7px 0px 0px 30px;" *ngIf="item.Reqpriority == 'N'" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('H',item.RequistionId,i)">Change to High</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('L',item.RequistionId,i)">Change to Low</a></li>
                  </ul>
                  </ng-template>--> <ul style="margin: -11px 0px 0px 10px;" *ngIf="item.Reqpriority == 'H'" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('L',item.RequistionId,i)">Change to Low</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('N',item.RequistionId,i)">Change to Neutral</a></li>
                    </ul>            
                    <ul style="margin: -11px 0px 0px 10px;" *ngIf="item.Reqpriority == 'L'" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('H',item.RequistionId,i)">Change to High</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('N',item.RequistionId,i)">Change to Neutral</a></li>
                    </ul>             
                    <ul style="margin:  -11px 0px 0px 10px;" *ngIf="item.Reqpriority == 'N'" class="dropdown-menu remove{{item.RequistionId}}" id="showprioritymenu{{i}}">
                      <li style="cursor:pointer;"> <a id="Menu1{{i}}" (click)="updatePriority('H',item.RequistionId,i)">Change to High</a></li>
                      <li style="cursor:pointer;"> <a id="Menu2{{i}}" (click)="updatePriority('L',item.RequistionId,i)">Change to Low</a></li>
                  </ul>              
              </td>   
              <td class="aligndata" style="text-align: center;">{{item.Username}}</td>
              <td class="aligndata" style="text-align: center;">{{item.Ageing}}d</td>
              <td class="aligndata" style="border-right:1px solid #000000;text-align: center;">{{item.Positions}}</td>
              <td><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'SO'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                  <ng-template #content>
                      <table>
                        <tr><td style="padding-bottom: 10px;">Sourcing :</td> <td style="padding-bottom: 10px;">{{item.Sourcing}} ({{item.sourcePerc}}%)</td></tr>
                        <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                      </table>
                  </ng-template>
                  {{item.Sourcing}}
                  </ejs-tooltip> </a>
                  <ng-template #noTooltip>
                    <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'SC'] : ['/req-dashboard',item.Reqstatus]"  skipLocationChange=true>{{item.Sourcing}}</a>
                  </ng-template>  
              </td>

              <td><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'SC'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">Screening :</td> <td style="padding-bottom: 10px;">{{item.Screening}} ({{item.screeningPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.Screening}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'SC'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.Screening}}</a>
                </ng-template>  
              </td>

              <td class="sum"><a class="statuscolor aligndata" (mouseenter) ="getAssessmentCount(item.RequistionId)" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'AS'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table *ngFor="let count of assessmentCount; let i = index">
                      <tr *ngIf="count.AssesmentCount >= 0"><td style="padding-bottom: 10px;">CV Submitted :</td> <td style="padding-bottom: 10px;">{{count.AssesmentCount}} ({{item.assessmentPerc}}%)</td></tr>
                      <tr *ngIf="count.Round1Count > 0"><td style="padding-bottom: 10px;">Round 1 :</td> <td style="padding-bottom: 10px;">{{count.Round1Count}}</td></tr>
                      <tr *ngIf="count.Round2Count > 0"><td style="padding-bottom: 10px;">Round 2 :</td> <td style="padding-bottom: 10px;">{{count.Round2Count}}</td></tr>
                      <tr *ngIf="count.Round3Count > 0"><td style="padding-bottom: 10px;">Round 3 :</td> <td style="padding-bottom: 10px;">{{count.Round3Count}}</td></tr>
                      <tr *ngIf="count.Round4Count > 0"><td style="padding-bottom: 10px;">Round 4 :</td> <td style="padding-bottom: 10px;">{{count.Round4Count}}</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.Assessment}}
                </ejs-tooltip> </a>
                
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'AS'] : ['/req-dashboard',item.Reqstatus] ">{{item.Assessment}}</a>
                </ng-template>  
              </td>
              
              <td class="sum"><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'HR'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">HR Round :</td> <td style="padding-bottom: 10px;">{{item.HRRound}} ({{item.hrPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.HRRound}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'HR'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.HRRound}}</a>
                </ng-template>  
              </td>

                
              <td class="sum"><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'OF'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">Offered :</td> <td style="padding-bottom: 10px;">{{item.Offered}} ({{item.offeredPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.Offered}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'OF'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.Offered}}</a>
                </ng-template>  
              </td>

              <td><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'JO'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">Joined :</td> <td style="padding-bottom: 10px;">{{item.Joined}} ({{item.joinedPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.Joined}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'JO'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.Joined}}</a>
                </ng-template>  
              </td>

              <td><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'CR'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">Client Reject:</td> <td style="padding-bottom: 10px;">{{item.CR}} ({{item.CRPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.CR}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'NH'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.CR}}</a>
                </ng-template>  
              </td>

              <td ><a class="statuscolor aligndata" *ngIf="item.totalCount > 0; else noTooltip;" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'IR'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true><ejs-tooltip  id='tooltip_1'>
                <ng-template #content>
                    <table>
                      <tr><td style="padding-bottom: 10px;">Internal Reject:</td> <td style="padding-bottom: 10px;">{{item.IR}} ({{item.IRPerc}}%)</td></tr>
                      <tr><td style="border-top:1px dashed #ffffff;padding-top:10px;">Total:</td> <td style="padding-top:10px;text-align: center;"> {{item.totalCount}}</td></tr>
                    </table>
                </ng-template>
                {{item.IR}}
                </ejs-tooltip> </a>
                <ng-template #noTooltip>
                  <a class="statuscolor" [routerLink]="manageRedirect ? ['/manage',item.RequistionId,'NH'] : ['/req-dashboard',item.Reqstatus] " skipLocationChange=true>{{item.IR}}</a>
                </ng-template>  
              </td>
            </tr>    
            
          <!--<tr *ngFor="let list of item.SCCount; let j = index" id="resourcescount{{i}}">
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td style="text-align: right;">{{list.SourceCategory}}</td>
              <td>{{list.Sourcing}}</td>
              <td>{{list.Screening}}</td>
              <td>{{list.Assessment}}</td>
              <td>{{list.HRRound}}</td>
              <td>{{list.Offered}}</td>
              <td>{{list.Joined}}</td>
              <td>{{list.CR}}</td>
              <td>{{list.IR}}</td>
            </tr>-->
          
        </tbody> 
           
        <!-- <tr style="height:40px;">
          <td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="border-top:1px solid;"></td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Positions}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Sourcing}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Screening}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Assessment}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.HRRound}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Offered}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.Joined}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.CR}}</td><td style="text-align:center;border-top:1px solid;">{{summaryCount.IR}}</td>
        </tr> -->
      </table>     
      
</div>
